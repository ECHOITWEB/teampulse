# 🤖 TeamPulse 팀 채팅 AI 시스템 설명서

## 📚 LangChain이란?

**LangChain**은 AI 챗봇을 쉽게 만들 수 있도록 도와주는 도구 상자입니다.

### 비유로 이해하기
- **일반 AI API**: 전화기로 AI에게 직접 전화하는 것
- **LangChain**: 비서가 여러 AI들과 통화하고 정리해서 알려주는 것

### LangChain의 장점
1. **여러 AI 모델 통합**: ChatGPT, Claude 등을 한 곳에서 사용
2. **대화 기억**: 이전 대화 내용을 기억하고 문맥 이해
3. **확장 가능**: 이미지 분석, 웹 검색 등 기능 추가 가능
4. **스트리밍**: 답변이 한 글자씩 실시간으로 나타남

## 🏗️ TeamPulse 팀 채팅 아키텍처

### 1. 전체 구조도

```
사용자 (웹 브라우저)
    ↓
TeamChat.tsx (채팅 화면)
    ↓
chatService.ts (채팅 관리자)
    ↓
Firebase Firestore (채팅 저장소)
    ↓
langchainService.ts (AI 관리자)
    ↓
AI 모델들 (ChatGPT, Claude)
```

### 2. 각 부분의 역할

#### 🖥️ TeamChat.tsx (채팅 화면)
- **역할**: 사용자가 보는 채팅방 화면
- **기능**:
  - 채팅 메시지 보여주기
  - 메시지 입력받기
  - AI 초대 버튼 제공
  - 모바일/PC 반응형 디자인

#### 📬 chatService.ts (채팅 관리자)
- **역할**: 채팅 메시지를 처리하는 우체국
- **기능**:
  - 메시지 전송/받기
  - 채널(채팅방) 만들기
  - 실시간 메시지 동기화
  - AI 설정 저장

#### 🗄️ Firebase Firestore (데이터베이스)
- **역할**: 모든 채팅 기록을 저장하는 창고
- **저장 내용**:
  - 채팅 메시지
  - 채널 정보
  - 사용자 정보
  - AI 설정

#### 🧠 langchainService.ts (AI 관리자)
- **역할**: AI와 대화하는 통역사
- **기능**:
  - OpenAI (ChatGPT) 연결
  - Anthropic (Claude) 연결
  - 대화 문맥 관리
  - 스트리밍 응답 처리

## 💬 채팅 동작 과정

### 일반 메시지 전송
```
1. 사용자가 메시지 입력
    ↓
2. TeamChat.tsx가 메시지 받음
    ↓
3. chatService.ts로 전송
    ↓
4. Firebase에 저장
    ↓
5. 모든 채팅방 참여자에게 실시간 전달
```

### AI와 대화하기
```
1. 사용자가 @AI 멘션과 함께 메시지 입력
    ↓
2. TeamChat.tsx가 AI 요청 감지
    ↓
3. langchainService.ts로 전달
    ↓
4. LangChain이 선택된 AI 모델에 요청
    ↓
5. AI 응답을 받아서 채팅방에 표시
```

## 🎯 주요 기능들

### 1. AI 모델 선택
사용자는 두 가지 AI 중 선택 가능:
- **ChatGPT (OpenAI)**
  - GPT-5, GPT-4 등 다양한 버전
  - 이미지 생성 가능
- **Claude (Anthropic)**
  - Claude Opus, Sonnet, Haiku 버전
  - 긴 문서 분석 특화

### 2. 실시간 채팅
- Firebase의 실시간 기능 사용
- 메시지를 보내면 즉시 모든 사람에게 전달
- 인터넷 연결이 끊겨도 자동 재연결

### 3. 멀티모달 지원 (계획)
- 이미지 분석: 사진을 보내면 AI가 설명
- 웹 검색: 최신 정보 검색
- 코드 실행: 프로그래밍 도움

## 🔐 보안 및 안전

### API 키 관리
```
환경 변수 (.env)
    ↓
Firebase Secrets (암호화 저장)
    ↓
서버에서만 사용 (클라이언트 접근 불가)
```

### 데이터 보호
- 모든 통신은 HTTPS 암호화
- 사용자별 권한 관리
- 민감한 정보는 서버에서만 처리

## 📱 반응형 디자인

### PC 화면
```
[채널 목록] | [채팅 화면] | [사용자 목록]
   250px        flex-1         250px
```

### 모바일 화면
```
[≡] 메뉴 버튼
[전체 화면 채팅]
```

## 🚀 미래 개선 계획

1. **더 많은 AI 모델 추가**
   - Gemini, LLaMA 등

2. **고급 기능**
   - 음성 대화
   - 실시간 번역
   - 회의 요약

3. **협업 도구**
   - AI 기반 작업 할당
   - 자동 일정 관리
   - 프로젝트 진행 상황 분석

## 📖 요약

TeamPulse의 팀 채팅은 **LangChain**을 사용해 여러 AI 모델을 하나의 시스템으로 통합했습니다. 사용자는 간단히 @AI를 입력하면 ChatGPT나 Claude와 대화할 수 있고, 모든 대화는 실시간으로 팀원들과 공유됩니다.

이 시스템은 마치 **똑똑한 팀원**이 채팅방에 참여한 것처럼 자연스럽게 대화하고 도움을 줄 수 있습니다.

---

*이 문서는 중학교 2학년 학생도 이해할 수 있도록 작성되었습니다.*